<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Academics for you</title>
		<link rel="stylesheet" type="text/css" href="/css/variables.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/design/layout.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/design/default.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/nav/nav.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/table/table.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/form/form.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/button/button.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/media/img/in-page-images.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/media/img/background-images.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/utils/putins/putins.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/media/media.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/design/keyframes/plain.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/elements/iframe/iframe-svg.css">
		<link rel="stylesheet" type="text/css" href="https://n.lib.ameonlinesolutions.com/svg/svg.css">
		<link rel="stylesheet" type="text/css" href="/rtf/trumbowyg.min.css">
		<link rel="stylesheet" type="text/css" href="/rtf/trumbowyg.colors.min.css">
		<!-- https://n.lib.ameonlinesolutions.com -->
	</head>
	<body>
		<header class="cont1" style="margin: 0;">
			<img class="cont1" src="/images/logo.jpg">
		</header>
		<main class="cont1">

			<form class="media1" onsubmit='event.preventDefault();form_wait(event.target);form_JSON_send(event.target)' class="u1" data-form-submit-target="https://script.google.com/macros/s/AKfycbzwun7oDW9cDky9JUiWsJdctiqb1tiBfk2rbY-_bHpJ6UuwX8h-IEEikmcMO8qv3eDE/exec" data-show-id="no" data-custom-JSON-to-send-string='{"gscript_callback_function": "login_or_delete"}' style="display: none;" id="login_form">
				<table class="u1">
					<tr>
						<td colspan="2">
							<h4>Please enter the credentials: </h4>
						</td>
					</tr>
					<tr>
						<td style="width: 25%;">
							User group:
						</td>
						<td>
							<select id="roles" onchange="document.getElementById('login_type').innerText=this.value;" name="user_group"></select>
						</td>
					</tr>
					<tr>
						<td style="width: 25%;">
							User name:
						</td>
						<td>
							<input type="text" name="username" required>
						</td>
					</tr>
					<tr>
						<td>
							Password:
						</td>
						<td>
							<input type="password" name="password" required>
						</td>
					</tr>
					<tr>
						<td>
							Task:
						</td>
						<td>
							<select onchange="if(this.value=='delete'){this.parentElement.parentElement.insertAdjacentHTML('afterend','<tr id=\'ref_no\'><td>Reference no.:</td><td><input type=\'text\' name=\'ref_no\'></td></tr>');document.getElementById('submit_button').value='Delete notice';}else{document.getElementById('ref_no').outerHTML='';document.getElementById('submit_button').value='Submit';}" name="task">
								<option value="add">Add notice</option>
								<option value="delete">Delete notice</option>
							</select>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<div class="media1"><div class="media1"><input id="submit_button" class="u1" style="margin-top: 0;" type="submit" name="Submit" value="Login"></div></div>
						</td>
					</tr>
				</table>
			</form>

			<form class="media1" onsubmit='event.preventDefault();form_wait(event.target);form_JSON_send(event.target)' class="u1" data-form-submit-target="https://script.google.com/macros/s/AKfycbzwun7oDW9cDky9JUiWsJdctiqb1tiBfk2rbY-_bHpJ6UuwX8h-IEEikmcMO8qv3eDE/exec" data-custom-JSON-to-send-string='{"gscript_callback_function": "notice_post"}' data-show-id="no" data-send-creds="yes" id="notice_form" style="display: none;">
				<span>You are logged in as <span id="login_type">HOD</span>.</span>
				<table class="u1" style="overflow-x: scroll;">
					<tr>
						<td colspan="2">
							<h4>Add a notice: </h4>
						</td>
					</tr>
					<tr>
						<td style="width: 25%;min-width: 80px;">
							Title:
						</td>
						<td>
							<input type="text" name="notice_title" autocomplete="off" required style="width: 100%;"><br>
							This will be only visible in the index and home page. This will not be displayed in the notice contents. 
						</td>
					</tr>
					<tr>
						<td colspan="2">
							Notice is for
							<select name="student_year">
								<option value="all">all</option>
								<option value="SE">SE</option>
								<option value="TE">TE</option>
								<option value="BE">BE</option>
							</select>
							year 
							<select name="student_stream">
								<option value="all">all</option>
								<option value="MECH">MECH</option>
								<option value="MSW">MSW</option>
							</select>
							stream 
							<select name="student_division">
								<option value="all">all</option>
								<option value="I">I</option>
								<option value="II">II</option>
								<option value="III">III</option>
							</select>
							division students.
						</td>
					</tr>
					<tr>
						<td>
							Notice contents:
						</td>
						<td>
							<!-- <div name="notice_contents" contenteditable="true" style="min-height: 400px;"></div> -->
							<div name="notice_contents" id="notice_contents"></div>
							Copy your notice from Microsoft office word, or similer software.
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<div class="media1"><div class="media1">
								<input class="u1" style="margin-top: 0;" type="submit" name="Submit" value="Add notice">
							</div></div>
						</td>
					</tr>
				</table>
			</form>
			<section id="contents_page" class="cont1 gdoc_published_contents"></section>

		</main>

		<footer class="cont1" id="contact">
			<span style="float: right;float: right;padding-top: 1%;padding-right: 1%;">Developed by Dr. Vinayak Kale</span>
		</footer>
	</body>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="/rtf/trumbowyg.min.js" type="text/javascript"></script>
	<script src="/rtf/trumbowyg.colors.min.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/includes/request/request.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/includes/request/google.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/design/default.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/elements/media/img/background-images.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/elements/button/button.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/elements/form/form.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/utils/putins/putins.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/utils/putins/google.js" type="text/javascript"></script>
	<script src="https://n.lib.ameonlinesolutions.com/svg/svg.js" type="text/javascript"></script> 
	<script src="https://n.lib.ameonlinesolutions.com/elements/nav/nav.js" type="text/javascript"></script> 

			<script type="text/javascript">
				if(sessionStorage)
				{
					if(sessionStorage.getItem("role") && sessionStorage.getItem("rolekey"))
					{
						document.getElementById('notice_form').style.display="revert";
					}
					else
					{
						document.getElementById('login_form').style.display="revert";
					}
				}
				else
				{
					document.getElementById('login_form').style.display="revert";
				}
				function form_show_next()
				{
					document.getElementById('notice_form').style.display="revert";
					request("https://docs.google.com/document/d/e/2PACX-1vRsBaCi0cOGgO6cHJWORkhvZXds_JQN1227KHSd_TxXcaByTD3M-53RFnDPKzYF3klQV_CNilYOsmxU/pub?embedded=true","putin_paste",document.getElementById("contents_page"),"request_gdoc_published_inline_contents");
				}
				window.addEventListener("beforeunload",function()
				{
					sessionStorage.clear();
				});
			</script>
	<script type="text/javascript">
		$('#notice_contents').trumbowyg({
			btns: [
				// ['viewHTML'],
				['undo', 'redo'], // Only supported in Blink browsers
				['formatting'],
				['strong', 'em', 'del'],
				// ['superscript', 'subscript'],
				['link'],
				['insertImage'],
				['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
				['unorderedList', 'orderedList'],
				['foreColor', 'backColor'],
				['horizontalRule'],
				['removeformat'],
				// ['fullscreen']
			],
			plugins: {
				colors: {
					colorList: [
					'000', '888', 'f00', '0f0', '00f'
					]
				}
			},
    		autogrow: true
		});
	</script>
	<script type="text/javascript">
// 		request_promise("https://n.static-data.ameonlinesolutions.com/mech/roles.json")
// 			.then(
// 				(res)=>
// 				{
// 					const roles=JSON.parse(res.response.replaceAll("\n","").replaceAll("\t",""))["roles"];
					const roles=["HOD","Faculty","Placement","iMESA","Project","Exam","Exam052"];
					for(let role of roles)
					{
						document.getElementById("roles").insertAdjacentHTML("beforeend","<option value=\""+role+"\">"+role+"</option>");
					}

// 				},
// 				(error)=>
// 				{
// 					console.error(error);
// 					document.getElementById('contents_page').innerHTML="<big>404 Page not found.</big>"
// 				});
		
	</script>

	<style type="text/css">
		#notice_contents *
		{
			list-style-type: revert;
			margin: revert;
			color: revert;
			background-color: revert;
		}
	</style>
</html>
